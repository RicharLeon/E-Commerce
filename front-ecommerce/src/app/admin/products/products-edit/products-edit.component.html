<div class="container mx-auto p-4 flex justify-center mt-2 mb-12">
  <div class="card bg-base-200 w-2/4">
    <div class="card-body">
      <h2 class="text-xl font-bold mb-4 p-3">Formulario de Creación de Productos</h2>
      <form [formGroup]="productForm" (ngSubmit)="onSubmit()">
        <!-- Nombre del producto -->
        <label class="font-bold ml-3 mt-6">Nombre del producto</label>
        <input
          formControlName="nombre"
          placeholder="Iphone 15 ..."
          class="w-full input input-bordered mb-2"
        />

        <!-- Categoría del producto -->
        <label class="font-bold ml-3 mt-6">Categoría del producto</label>
        <select formControlName="idCategory" class="select select-bordered w-full mb-2">
          <option value="">Selecciona una categoría</option>
          <option *ngFor="let category of categories" [value]="category.id">
            {{ category.name }}
          </option>
        </select>

        <!-- Precio del producto -->
        <label class="font-bold ml-3 mt-6">Precio del producto</label>
        <input
          formControlName="price"
            placeholder="1.000.000 ..."
            type="text"
            class="w-full input input-bordered mb-2"
            (input)="formatPrice($event)"
          />

        <!-- Unidades -->
        <label class="font-bold ml-3 mt-6">Unidades</label>
        <input
          formControlName="stock"
          placeholder="16 unidades ..."
          type="number"
          class="w-full input input-bordered mb-2"
        />

        <!-- Estado del producto -->
        <label class="font-bold ml-3 mt-6">Estado del producto</label>

        <select formControlName="status" class="w-full input input-bordered mb-2">
          <option value="" disabled selected>Selecciona el el estado...</option>
          <option value="activo">Activo</option>
          <option value="inactivo">Inactivo</option>

         
        </select>  

        <!-- Descripción del producto -->
        <label class="font-bold ml-3 mt-6">Descripción del producto</label>
        <textarea
          formControlName="description"
          placeholder="Descripción del producto ..."
          class="w-full input input-bordered mb-2"
        ></textarea>

      
        <!-- Foto del producto -->
        <label class="font-bold ml-3 mt-6">Foto del producto</label>
        <input
          id="file"
          type="file"
          class="form-control mb-2"
          (change)="onFileChange($event)"
        />

        <!-- Mensaje de error para la foto (opcional) -->
        <div *ngIf="f['photo'].touched && f['photo'].invalid" class="alert alert-danger">
          <div *ngIf="f['photo'].errors">La foto es requerida.</div>
        </div>

       
        <button
          class="btn btn-success mt-4"
          type="submit"
          [disabled]="!productForm.valid"
        >
          Guardar Producto
        </button>
        <a class="btn btn-neutral mt-4 ml-2" href="/productos-list">Regresar</a>
      </form>
      {{ productForm.value | json }}
    </div>
  </div>
</div>
